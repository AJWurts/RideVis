<script src="https://d3js.org/d3.v5.min.js"></script>
<script src="https://d3js.org/d3-array.v2.min.js"></script>
<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="https://svadivazhagu.github.io/PyLeague/d3.css">


<svg id='vis'></svg></br>

<script>
    var width = 750
    var height = 250
    var svg = d3.select('body').select('#vis')
        .attr('width', width)
        .attr('height', height)


    // Want data for all of 2018 :D
    var xScale = d3.scaleLinear()
        .domain([0, 12])
        .range([width * 0.1, width])
    
    var yScale = d3.scaleLinear()
        .range([height * 0.8, height * 0.2])


    d3.json("https://ajwurts.github.io/datavis_4/rides_by_month.json")
        .then(result => {
            console.log(result)
            yScale.domain([0, d3.max(result, x => x.distance)])
            result = result.filter(d => d.year === 2018)
            result = result.sort((a, b) => a.month - b.month)
            
            svg.append('g')
                .call(d3.axisBottom(xScale))
            
            svg.append('g')
                .call(d3.axisRight(yScale))



            svg.selectAll('dataBars')
                .data(result)
                .enter()
                .append('rect')
                .attr('x', d => xScale(d.month))
                .attr('y', d => yScale(d.distance))
                .attr('width', '10')
                .attr('height', height * 0.8)
                .attr('fill', 'blue')
        })

</script>